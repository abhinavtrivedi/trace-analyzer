<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="//cdn.leafletjs.com/leaflet-0.5.1/leaflet.css" />
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5.1/leaflet.ie.css" />
    <![endif]-->
    <link href="static/css/style.css" rel="stylesheet">
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <title>OpenXC Vehicle Data Visualization</title>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="span7">
                <div id="map"></div>
            </div>
            <div class="span4">
                <h1>OpenXC Visualization</h1>
                <div id="download-progress">Trace Download Progress:
                    <progress value="0" max="100">0%</progress>
                </div>
                <div id="analysis-progress">Trace Analysis Progress:
                    <progress value="0" max="100">0%</progress>
                </div>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    Morbi et rhoncus odio. Nam sit amet mi leo, nec ultrices est. Nam nec enim ut
                    tortor tempor euismod eget sit amet lacus.
                </p>

                <dl>

                  <dt>Green Line</dt>
                  <dd>Overall GPS trace</dd>

                  <dt>Red shaded portions</dt>
                  <dd>Travelling below normal speed limit</dd>

                  <dt>Blue circle</dt>
                  <dd>Starting point</dd>

                  <dt>Green circle</dt>
                  <dd>Ending point</dd>

                  <dt>Red circles</dt>
                  <dd>Stops</dd>

                </dl>

            </div>
        </div>

        <div class="row">
            <div class="span7 graph-container histogram">
                <!-- TODO if we don't override the width here it's too small, css isn't working-->
                <canvas id="gear-histogram" width="540px" class="graph"></canvas>
            </div>
            <div class="span4 graph-comments">
                <h3>Gear Position</h3>
                <p><span id="current_gear_position"></span></p>
            </div>
        </div>

        <div class="row">
            <div class="span7 graph-container">
                <div id="fuel_consumed_since_restart" class="graph"></div>
            </div>
            <div class="span4 graph-comments">
                <h3>Fuel Consumed</h3>
                <p class="delayed"><span id="fuel-efficiency"></span> MPG Overall</p>
                <p class="delayed"><span id="total-fuel-consumed"></span>
                  Gallons == ~$<span id="total-fuel-cost"></span> Total
                  (@ $<span id="average-fuel-cost"></span>/gallon)</p>

            </div>
        </div>
        <div class="row">
            <div class="span7 graph-container">
                <div id="cumulativeFuelEfficiency" class="graph"></div>
            </div>
            <div class="span4 graph-comments">
                <h3>Fuel Efficiency</h3>
                <p>Shaded areas == brake pressed</p>
                <p class="current-data"><span id="current_cumulativeFuelEfficiency"></span> MPG Cumulative</p>
            </div>
        </div>
        <div class="row">
            <div class="span7 graph-container">
                <div id="vehicle_speed" class="graph"></div>
            </div>
            <div class="span4 graph-comments">
                <h3>Vehicle Speed</h3>
                <p class="current-data"><span id="current_vehicle_speed"></span> Kph</p>
            </div>
        </div>
        <div class="row">
            <div class="span7 graph-container">
                <div id="engine_speed" class="graph"></div>
            </div>
            <div class="span4 graph-comments">
                <h3>Engine Speed</h3>
                <p class="current-data"><span id="current_engine_speed"></span> RPM</p>
            </div>
        </div>
        <div class="row">
            <div class="span7 graph-container">
                <div id="torque_at_transmission" class="graph"></div>
            </div>
            <div class="span4 graph-comments">
                <h3>Torque</h3>
                <p class="current-data"><span id="current_torque_at_transmission"></span> Nm</p>
            </div>
        </div>
        <div class="row">
            <div class="span7 graph-container">
                <div id="accelerator_pedal_position" class="graph"></div>
            </div>
            <div class="span4 graph-comments">
                <h3>Accelerator Pedal</h3>
                <p class="current-data"><span id="current_accelerator_pedal_position"></span>%</p>
            </div>
        </div>
        <div class="row">
            <div class="span7 graph-container">
                <div id="odometer" class="graph"></div>
            </div>
            <div class="span4 graph-comments">
                <h3>Odometer</h3>
                <p class="current-data"><span id="current_odometer"></span> Km</p>
            </div>
        </div>

        <div id="traces">
            <a class="" href="/files/annarbor.json"/>
            <a class="" href="/files/commute.json"/>
            <a class="" href="/files/commute-short.json"/>
            <a class="" href="/files/2013-03-23-16.json"/>
            <a class="" href="/files/2013-03-23-19.json"/>
            <a class="" href="/files/2013-03-23-22.json"/>
            <a class="" href="http://openxcplatform.com.s3.amazonaws.com/traces/localwithgps.json"/>
            <a class="" href="http://openxcplatform.com.s3.amazonaws.com/traces/commute.json"/>
            <a class="active" href="http://openxcplatform.com.s3.amazonaws.com/traces/commute2.json"/>
        </div>
    </div>

    <script src="//cdn.leafletjs.com/leaflet-0.5.1/leaflet.js"></script>
    <script src="//code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="static/js/vendor/bootstrap.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
    <script src="static/js/vendor/Chart.min.js"></script>
    <script src="static/js/traces.js"></script>
    <script src="static/js/timeseries.js"></script>
    <script src="static/js/map.js"></script>
    <script src="static/js/fuel.js"></script>
    <script src="static/js/histogram.js"></script>
    <script src="static/js/app.js"></script>
</body>
</html>
